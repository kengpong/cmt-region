cmt-region
==========

xyzzy用lispです。  
リージョンをコメントアウト／アンコメントします。  
MITライセンスです。  

##目次  
1. 概要  
2. インストール／アンインストール  
3. 使用方法  
4. 設定  
5. 対応言語モード  
6. その他
7. 改版履歴

* * *

###1.概要  
基本的にはEmacsのcomment-regionのようなものです。  
一応各言語のモードを自動判定して、それにあわせたスタイルでコメント／アンコメントします。  
登録が無いモードは対話的にコメント文字を入力できます。  

xyzzyの設定ファイル（.xyzzy もしくは siteinit.l）に設定を書くことで言語毎の設定の追加や挙動の制御を行えます。  

* * *

###2.インストール／アンインストール  
Netinstallerとか、そげんハイカラなものオラ知らね。...( ´ﾟдﾟ｀)  
ということで、cmt-region.lを、xyzzy/site-lisp/下、もしくはロードパス下に置いてください。  
そして設定ファイル（.xyzzy もしくは siteinit.l）に、以下を追記してください。  

`(load-library "cmt-region.l")`

いうまでもありませんが追記したら再ダンプ（siteinit.lの場合はバイトコンパイルも）が必要です。

アンインストールしたい場合は、cmt-region.lを削除し、設定ファイルからもこれ関係の記述を削除すればおｋです。

* * *

###3.使用方法  
* リージョンをコメントアウトする： `commentout-region`
* リージョンをアンコメントする： `uncomment-region`

リージョンを設定したら、これらをミニバッファに入力すれば普通にコメントアウト／アンコメントが実行されると思います。  
もしバッファの言語モードが、cmt-region.lに登録されてないものだった場合は、コメントの文字を聞いてきますので、入力してください。

蛇足かもしれませんが、こんな感じ↓で  
`(global-set-key '(#\C-c #\c) 'commentout-region)`  
`(global-set-key '(#\C-c #\u) 'uncomment-region)`  
適当なキーバインドを割り当てた方が実用的かと思います（デフォルトでは割り当てられません）。  

* * *

###4.設定
xyzzyの設定ファイル（.xyzzy もしくは siteinit.l)に追記してください。  
* デフォルトにない言語モードを追加する  
`(setf (gethash 'c-mode *-commentize-mode-table-*) '("/*" "*/"))`

* コメント文字とコメントする文字列の間にスペースを入れるか否か（デフォルト: t）  
`(defvar *-let-inside-space-* t)`

* コメント文字とコメントする文字列の間に入れるスペースの数（デフォルト: 1）  
`(defvar *-inside-space-width-* 1)`

* コメント文字とコメント外文字列の間にスペースを入れるか否か（デフォルト: t）  
`(defvar *-let-outside-space-* t)`

* コメント文字とコメント外文字列の間に入れるスペースの数（デフォルト: 2）  
`(defvar *-outside-space-width-* 2)`

* * *

###5.対応言語モード
・lisp-interaction-mode : `;`  
・lisp-mode : `;`  
・c-mode : `/*` `*/`  
・css-mode : `/*` `*/`  
・py-mode : `#`  
・python-mode : `#`  
・bash-mode : `#`  
・c++-mode : `//`  
・java-mode : `//`  
・javascript-mode : `//`  
・basic-mode : `'`  
・sql-mode : `--`  
・html-mode : `<!--` `-->`  
・pascal-mode : `{` `}`  

ただし、C言語のようにコメント方法が複数種類（`/*`と`*/`、`//`、`#if 0`と`#endif`）ある場合がありますが、今のところ切り替えできるようにはなってません。 (ﾉ∀`)ｱﾁｬｰ  
これから改良したいと思ってます。

* * *

###6.改版履歴
